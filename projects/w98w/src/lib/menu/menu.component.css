:host {
    display: inline-grid;
    box-sizing: border-box;

    font-size: var(--menu-text-size);
    font-family: var(--menu-text-font);
    color: var(--menu-text-color);

    user-select: none;

    /* i need this to create a stacking context, otherwise the labels of the submenus will be on top of us */
    /* note: this was for when submenus were siblings instead of children. but this might still be needed we'll see */
    z-index: 0;

    /* remove user-agent styles */
    margin: 0;
    padding: 0;

    grid-template-rows:
        [child-start bevel-start] var(--menu-border-padding)
        repeat(var(--menu-n), [item-start] auto [item-end])
        var(--menu-border-padding) [bevel-end overflow-start] 1fr [overflow-end child-end]
        ;

    grid-template-columns:
        [bevel-start] var(--menu-border-padding) [item-start]
        auto
        [item-end] var(--menu-border-padding) [bevel-end child-start] auto [child-end]
        ;
}

/* "ip" means initial position */
:host.menu-ip {
    margin-left: var(--menu-ip-offset-h);
    margin-top: var(--menu-ip-offset-v);
    height: calc(100% - var(--menu-ip-offset-v));

    /* keep some room for controls */
    margin-right: 44px;
}

:host-context(.w98w-menu) :host /* exclude root */ {
    /* basically if we're not menu-ip, then we want to fill the parent because we're in someone's "hug" div */
    /* this is important because we'll hug the bottom edge if we would overflow otherwise */
    height: 100%;
}

.bevel {
    grid-area: bevel;

    background-color: var(--menu-bg-color);

    /* don't let clicks "fall through", that would be weird behavior */
    pointer-events: auto;

    /* Bevel8SplitComponent to fill up this container */
    position: relative;
}

:host(.menu-host-child):nth-child(n + 2) {
    margin-left: -3px;
}

.hug {
    grid-row-start: item-start var(--menu-parent-grid-index);
    grid-row-end: child-end;
    grid-column: child;
}
