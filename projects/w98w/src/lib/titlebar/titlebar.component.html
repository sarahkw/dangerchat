<style>
    .titlebar {
        width: 100%;
        font-weight: bold;
        overflow: hidden;
        display: flex;
        box-sizing: border-box;
        align-items: center;
    }

    .titlebar .icon {
        /* for Safari, we don't use  align-self: stretch, because that breaks the aspect ratio. */
        align-self: center;
        height: 100%;
    }

    .titlebar .label {
        flex: 1;

        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
    }

    .titlebar .controls {
        white-space: nowrap;

        /* TODO: MYSTERY-A-SEARCH-ME I added 2 display flex and suddenly the alignment was fixed. why? */
        display: flex;
    }

    .titlebar .controls .x-space {
        display: inline-block;
    }
</style>

<div class="titlebar"
    [style.backgroundColor]="COLORS.TITLEBAR_ACTIVE"
    [style.color]="COLORS.TITLEBAR_TEXT"
    [style.fontSize.px]="STYLES.titleBarFont"
    [style.height.px]="STYLES.titleBarHeight"
    [style.resize]="debugMode ? 'horizontal' : null"
    [style.padding.px]="STYLES.titleBarPadding"
    [style.gap.px]="STYLES.titleBarFlexGap"
    >

    <!-- deviation: in win98, icons aren't padded by the 2 px on the left, top, bottom. but
         i don't think that's worth keeping. nobody's going to notice. :)  they're padded by 1 px there instead -->
    <img [src]="debugMode ? '/assets/w98w/greenbox.png' : iconSrc" class="icon" />
    <span class="label w98w-font-ss"><ng-content></ng-content></span>
    <div class="controls">
        <w98w-button [width]="STYLES.titleBarBtnWidth" [height]="STYLES.titleBarBtnHeight">_</w98w-button>
        <w98w-button [width]="STYLES.titleBarBtnWidth" [height]="STYLES.titleBarBtnHeight"></w98w-button>
        <div class="x-space" [style.width.px]="2"></div>
        <w98w-button [width]="STYLES.titleBarBtnWidth" [height]="STYLES.titleBarBtnHeight">
            <w98w-pixel-image [genImg]="GENIMG.TBAR_X" [cssWidth]="12" [cssHeight]="12">
            </w98w-pixel-image>
        </w98w-button>
    </div>
</div>
