<h2>Popup Test</h2>

<h3>Generic Popup</h3>

<button w98w-wbutton (click)="popupService.openPopup(msgbox)">show message</button>

<ng-template #msgbox>
    <w98w-msgbox>Hello world!</w98w-msgbox>
</ng-template>

<h3>Menu</h3>

<div
    w98w-sliding-screen #compSlidingScreen
    style="width: 100%; height: 400px; max-height: calc(100vh - 10px); background-color: lightgray; resize: vertical;"
    >
    <!-- TODO: can't add border on the side because the content width gets misaligned. i think it's because we measure the sliding screen
                and apply its size to the inside. maybe a concession is that if you want a wrapping border, put sliding screen in a div
                where we actually draw the border.

            UPDATE: now we can't even put a bottom border because we're fixing the height on the content now, courtesy of
                    a menu that overflowed the overlay vertically and stretched the bottom. while testing. but it could happen for real
                    later on, so let's just avoid that. just lighten the bg color instead hah.
            -->

    <div w98w-sliding-screen-main-content style="position: relative; background-color: #0e8585;" #dirSSMC="ssMainContent">
        <div [style.height.px]="titleBarHeight" [style.backgroundColor]="titleBarColor"></div>

        <div style="margin-left: 20px; margin-top: 10px;">
            <button w98w-wbutton w98w-menu-anchor [autoMenu]="library.menuTempDeferred">down menu</button>
        </div>

        <div style="position: absolute; left: 20px; bottom: 20px;">
            <button
                w98w-wbutton
                w98w-menu-anchor #ankBtnUp="menuAnchor"
                (click)="menuService.beginMenu(library.menuTemp, ankBtnUp.element.nativeElement)"
            >up menu</button>
        </div>

        <app-test-menu-lib #library></app-test-menu-lib>
    </div>

    <w98w-menu-host *ngIf="menuService.activeRootMenu$ | async"
        w98w-menu-layout-size-observer [rootElement]="dirSSMC.element.nativeElement"
        w98w-sliding-screen-overlay style="height: 100%;"
    ></w98w-menu-host>
</div>

<div>
    <w98w-popup-host></w98w-popup-host>
</div>
